<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>OK Computers's pixel board <!--BOARD_ID--></title><style>body{margin:0;padding:0;background:radial-gradient(circle,var(--bg-color),#000);}#title{text-align:center;font-size:28px;font-family:'Georgia',serif;font-weight:bold;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,0.7);padding:5% 0;}#lastUpdate{position:fixed;top:10px;right:10px;font-size:12px;color:#333;background:rgba(255,255,255,0.7);padding:3px 6px;border-radius:4px;z-index:1000;}#board{width:95vw;margin:0 auto;}.cell{display:inline-block;}.cell:hover{transform:scale(1.1);box-shadow:0 0 5px #fff;}#popup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:40%;min-width:250px;height:auto;background:white;border:1px solid #000;border-radius:18px;text-align:center;overflow-wrap:break-word;padding:18px 14px 18px 14px;display:none;box-shadow:0 8px 32px rgba(0,0,0,0.18);}#popupContent{display:flex;flex-direction:column;align-items:center;gap:8px;}#popupDetails{font-size:16px;color:#222;margin-bottom:8px;}#popupText{font-size:13px;color:#444;background:#f7f7f7;border-radius:10px;padding:10px 8px;margin:10px 0 8px 0;text-align:left;line-height:1.5;}#popup input{margin:8px 0;padding:7px;border-radius:6px;border:1px solid #bbb;width:90%;font-size:14px;background:#f9f9f9;}@media (max-width:428px){#popup{width:90%;min-width:unset;}}#constructor{display:flex;flex-direction:column;align-items:center;margin-top:20px;background-color:#f5f5f5;padding:20px;border-radius:10px;box-shadow:0 2px 5px rgba(0,0,0,0.1);width:80%;max-width:600px;margin-left:auto;margin-right:auto;margin-bottom:40px;}#constructor-row{display:flex;justify-content:center;align-items:center;gap:8px;width:100%;}#constructor input,#constructor button{margin:5px;padding:8px;border-radius:5px;border:1px solid #ccc;}#constructor button{background-color:#4CAF50;color:white;cursor:pointer;}#constructor button:hover{background-color:#45a049;}#chunkDisplay{display:flex;flex-direction:column;align-items:center;margin-top:15px;max-width:80vw;overflow:auto;}#chunkDisplay .cell{transition:none;box-shadow:none !important;}#chunkDisplay .cell:hover{transform:none !important;box-shadow:none !important;}#colorButtons{display:flex;justify-content:center;flex-wrap:wrap;margin-top:15px;}.color-btn{border-radius:50%;width:25px;height:25px;margin:5px;border:2px solid #fff;cursor:pointer;box-shadow:0 0 3px rgba(0,0,0,0.2);}.color-btn:hover{transform:scale(1.1);}#constructor input[readonly]{background-color:#e9ecef;width:80%;max-width:400px;}.chunkField{width:50%;margin:8px auto 0 auto;display:block;font-size:14px;padding:8px;border-radius:5px;border:1px solid #ccc;background:#f9f9f9;}#chunkBoardWrapper{width:100%;display:flex;flex-direction:column;align-items:center;margin:20px 0;}</style></head><body><div id="lastUpdate"><!--LAST_UPDATE_TIME--></div><div id="title">OK Computers's pixel board <!--BOARD_ID--></div><div id="board"></div><div id="chunkBoardWrapper"><div id="chunkDisplay"></div><input id="chunkFieldBoardId" class="chunkField" readonly placeholder='[boardID]'><input id="chunkFieldX" class="chunkField" readonly placeholder="[X1,X2,...]"><input id="chunkFieldY" class="chunkField" readonly placeholder="[Y1,Y2,...]"><input id="chunkFieldColors" class="chunkField" readonly placeholder='["color1","color2",...]'></div><div id="popup"><div id="popupContent"><div id="popupDetails"><span id="popupColor"></span>  |  <span id="popupX"></span>  |  <span id="popupY"></span></div><div id="popupText"><b>Instructions:</b><br><ul style="margin:6px 0 6px 18px;padding:0;text-align:left;"><li>To set a pixel, you must pay ETH to the contract.</li><li>Cost increases by 15% each time a cell is updated: <b>0.000022*1.15<sup>editionNumber</sup></b></li><li>Extra ETH is refunded automatically.</li><li>Updates appear after 1-2 minutes. Refresh to see changes.</li><li>If your pixel does not appear, the update may be delayed or your pixel overwritten.</li><li><p>Available colors :</p><span id="colorList" style="display:flex;flex-wrap:wrap;gap:6px;align-items:center;">"white", "black", "gray", "silver", "maroon", "red", "purple", "fuchsia"</span><span id="colorList" style="display:flex;flex-wrap:wrap;gap:6px;align-items:center;">"green", "lime", "olive", "yellow", "navy", "blue", "teal", "aqua"</span></li></ul></div><input id="singlePixelData" style="width:90%;margin:10px auto;display:block;" placeholder='["boardID","X","Y","color"]'><button id="editButton" onclick="goToEdit()">Go to edit</button></div></div><div id="constructor"><div><input id="x1" placeholder="X1"><input id="y1" placeholder="Y1"><input id="x2" placeholder="X2"><input id="y2" placeholder="Y2"><button onclick="renderChunk()">Render Chunk</button></div><div id="colorButtons"></div></div><script>
    const boardData=<!--BOARD_DATA-->;
    const boardId=<!--BOARD_ID-->;
    const colors=["white","black","gray","silver","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua"];const bgColors=['green','blue','red','yellow'];document.body.style.setProperty('--bg-color',bgColors[boardId]);let cellSize=Math.min(Math.floor(0.95*window.innerWidth/170),Math.floor(0.9*window.innerHeight/100));let selectedColor=-1;function renderBoard(){const boardDiv=document.getElementById("board");boardDiv.innerHTML="";for(let y=0;y<100;y++){const rowDiv=document.createElement("div");rowDiv.style.display="flex";rowDiv.style.justifyContent="center";for(let x=0;x<170;x++){const cellDiv=document.createElement("div");cellDiv.className="cell";cellDiv.style.width=cellSize+"px";cellDiv.style.height=cellSize+"px";let hexValue=(boardData[y]&&boardData[y][x]!==undefined)?boardData[y][x]:"0";const index=parseInt(hexValue,16);cellDiv.style.backgroundColor=colors[index];cellDiv.addEventListener("click",()=>showPopup(x,y,index));rowDiv.appendChild(cellDiv);}boardDiv.appendChild(rowDiv);}}function showPopup(x,y,colorIndex){document.getElementById("popupColor").innerText="Color: "+colors[colorIndex];document.getElementById("popupX").innerText="X: "+x;document.getElementById("popupY").innerText="Y: "+y;document.getElementById("popup").style.display="block";document.getElementById("singlePixelData").value=JSON.stringify([String(boardId),String(x),String(y),colors[colorIndex]]);}document.body.addEventListener("click",(e)=>{if(!e.target.closest("#popup")&&!e.target.classList.contains("cell")){document.getElementById("popup").style.display="none";}});function goToEdit(){window.open('https://basescan.org/address/0x7a3CC9C3A0E094b7aBCBFb11d6EcbbD38465a6CA#writeContract#F4','_blank');}const colorButtonsDiv=document.getElementById("colorButtons");colors.forEach((color,i)=>{const btn=document.createElement("button");btn.className="color-btn";btn.style.backgroundColor=color;btn.addEventListener("click",()=>{selectedColor=i;});colorButtonsDiv.appendChild(btn);});function renderChunk(){const x1=parseInt(document.getElementById("x1").value);const y1=parseInt(document.getElementById("y1").value);const x2=parseInt(document.getElementById("x2").value);const y2=parseInt(document.getElementById("y2").value);if(isNaN(x1)||isNaN(y1)||isNaN(x2)||isNaN(y2)||x1<0||x1>169||x2<0||x2>169||y1<0||y1>99||y2<0||y2>99){alert("Invalid coordinates");return;}const mx=Math.min(x1,x2);const Mx=Math.max(x1,x2);const my=Math.min(y1,y2);const My=Math.max(y1,y2);const nx=Mx-mx+1;const ny=My-my+1;const maxCellSize=50;const availableWidth=0.8*window.innerWidth;const cellSizeFromWidth=Math.floor(availableWidth/nx);const editCellSize=Math.min(maxCellSize,cellSizeFromWidth);window._chunkData=[];for(let y=my;y<=My;y++){const row=[];for(let x=mx;x<=Mx;x++){row.push(boardData[y]&&boardData[y][x]!==undefined?parseInt(boardData[y][x],16):0);}window._chunkData.push(row);}window._mx=mx;window._my=my;window._Mx=Mx;window._My=My;drawChunkEditor();updateChunkDataFields();}function drawChunkEditor(){const mx=window._mx,my=window._my,Mx=window._Mx,My=window._My;const chunkData=window._chunkData;const nx=Mx-mx+1;const ny=My-my+1;const maxCellSize=50;const availableWidth=0.8*window.innerWidth;const cellSizeFromWidth=Math.floor(availableWidth/nx);const editCellSize=Math.min(maxCellSize,cellSizeFromWidth);const chunkDisplay=document.getElementById("chunkDisplay");chunkDisplay.innerHTML="";for(let i=0;i<ny;i++){const rowDiv=document.createElement("div");rowDiv.style.display="flex";rowDiv.style.justifyContent="center";for(let j=0;j<nx;j++){const cellDiv=document.createElement("div");cellDiv.className="cell";cellDiv.style.width=editCellSize+"px";cellDiv.style.height=editCellSize+"px";cellDiv.style.backgroundColor=colors[chunkData[i][j]];cellDiv.addEventListener("click",()=>{if(selectedColor>=0){chunkData[i][j]=selectedColor;cellDiv.style.backgroundColor=colors[selectedColor];updateChunkDataFields();}});rowDiv.appendChild(cellDiv);}chunkDisplay.appendChild(rowDiv);}}function updateChunkDataFields(){const mx=window._mx,my=window._my,Mx=window._Mx,My=window._My;const chunkData=window._chunkData;if(!chunkData){document.getElementById("chunkFieldBoardId").value="";document.getElementById("chunkFieldX").value="";document.getElementById("chunkFieldY").value="";document.getElementById("chunkFieldColors").value="";return;}const xList=[];for(let x=mx;x<=Mx;x++)xList.push(x);const yList=[];for(let y=my;y<=My;y++)yList.push(y);const colorList=[];for(let i=0;i<chunkData.length;i++){for(let j=0;j<chunkData[i].length;j++){colorList.push(colors[chunkData[i][j]]);}}document.getElementById("chunkFieldBoardId").value=JSON.stringify(boardId);document.getElementById("chunkFieldX").value=JSON.stringify(xList);document.getElementById("chunkFieldY").value=JSON.stringify(yList);document.getElementById("chunkFieldColors").value=JSON.stringify(colorList);}renderBoard();</script></body></html>